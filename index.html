<script>
  const stripe = Stripe('your-publishable-key-here'); // ðŸ‘ˆ Replace this with your real key

  const elements = stripe.elements();
  const card = elements.create('card');
  card.mount('#card-element');

  const form = document.getElementById('payment-form');
  form.addEventListener('submit', async (event) => {
    event.preventDefault();

    const { token, error } = await stripe.createToken(card);
    if (error) {
      document.getElementById('payment-message').textContent = error.message;
    } else {
      // Send token to backend (this won't work yet â€” backend setup comes next)
      fetch('/charge', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ token: token.id }),
      }).then(response => {
        if (response.ok) {
          document.getElementById('payment-message').textContent = "Payment successful!";
        } else {
          document.getElementById('payment-message').textContent = "Payment failed.";
        }
      });
    }
  });
</script>